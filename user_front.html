  <link rel="stylesheet" href="styles/user_front.css">

    <div class="main-content">
    <h1 class="greeting">Good Morning, User!</h1>
        <p class="subtitle">Hi there! Welcome to Complaint Desk where service meets responsibility.</p>

        <!-- Enhanced Submit Complaint Modal -->
        <div class="modal-overlay" id="submitModal">
            <div class="modal-content">
                <h2 class="modal-header">Submit New Complaint</h2>
                <p class="modal-subtitle">Please provide details about your complaint</p>
                
                <div class="form-group">
                    <label>Complaint Type:</label>
                    <select class="form-input" id="complaintType">
                        <option value="">Select Type</option>
                        <option value="maintenance">Maintenance</option>
                        <option value="facility">Facility</option>
                        <option value="noise">Noise Complaint</option>
                        <option value="security">Security</option>
                        <option value="billing">Billing</option>
                        <option value="neighbor">Neighbor</option>
                        <option value="other">Others</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Description:</label>
                    <textarea class="form-textarea" id="complaintDescription" placeholder="Please describe your complaint in detail..."></textarea>
                </div>

                <div class="validate-message" id="submitError">
                    <label>Validation</label>
                </div>

                <div class="modal-buttons">
                    <button class="btn btn-secondary" onclick="closeSubmitModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="submitComplaint()">Submit Complaint</button>
                </div>
            </div>
        </div>
        
        <div class="menu-wrapper">
        <!-- Enhanced Filter Container -->
        <div class="filter-container">
            <div class="filter-header">
                <div class="filter-title">Filter Complaints</div>
                <button class="clear-filters-btn" onclick="clearFilters()">Clear All</button>
            </div>

            <div class="filter-grid">
                <div class="filter-group">
                    <label for="filter-type">Complaint Type</label>
                    <select id="filter-type" onchange="applyFilters()">
                        <option value="">All Types</option>
                        <option value="maintenance">Maintenance</option>
                        <option value="facility">Facility</option>
                        <option value="noise">Noise</option>
                        <option value="billing">Billing</option>
                        <option value="neighbor">Neighbor</option>
                        <option value="security">Security</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="filter-date">Specific Date</label>
                    <input type="date" id="filter-date" onchange="applyFilters()">
                </div>

                <div class="filter-group">
                    <label for="monthFilter">Monthly</label>
                    <select id="monthFilter" onchange="applyFilters()">
                        <option value="all">All Months</option>
                        <option value="january">January 2025</option>
                        <option value="february">February 2025</option>
                        <option value="march">March 2025</option>
                        <option value="april">April 2025</option>
                        <option value="may">May 2025</option>
                        <option value="june">June 2025</option>
                        <option value="july">July 2025</option>
                        <option value="august">August 2025</option>
                        <option value="september">September 2025</option>
                        <option value="october">October 2025</option>
                        <option value="november">November 2025</option>
                        <option value="december">December 2025</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="submit-complaints">
            <div class="submit-header">
                <div class="filter-title">Add New Complaint</div>
            </div>
            <button class="add-complaint-btn" onclick="openSubmitModal()">
                <span class="material-symbols-rounded">add</span>
            </button>
        </div>
        </div>

            <!-- Kanban Columns -->
            <h2 class="section-title">My Complaints</h2>
            <div class="kanban-container">
                <!-- Pending Column -->
                <div class="kanban-column">
                    <div class="kanban-header pending">
                        <h3>Pending</h3>
                        <span class="column-count">2</span>
                    </div>
                    <div class="kanban-cards">
                        <div class="complaint-card">
                            <div class="card-id">C1</div>
                            <div class="card-info">
                                <span>üè† Room 101</span>
                                <span>üë§ John Doe</span>
                            </div>
                            <div class="type-badge">Maintenance</div>
                            <div class="card-description">Leaking faucet in bathroom needs immediate repair</div>
                            <div class="card-date">üìÖ Oct 15, 2025 09:30 AM</div>
                        </div>
                        <div class="complaint-card">
                            <div class="card-id">C4</div>
                            <div class="card-info">
                                <span>üè† Room 403</span>
                                <span>üë§ Sarah Lee</span>
                            </div>
                            <div class="type-badge">Other</div>
                            <div class="card-description">Air conditioning not working properly</div>
                            <div class="card-date">üìÖ Oct 16, 2025 01:00 PM</div>
                        </div>
                    </div>
                </div>

                <!-- In Progress Column -->
                <div class="kanban-column">
                    <div class="kanban-header progress">
                        <h3>In Progress</h3>
                        <span class="column-count">2</span>
                    </div>
                    <div class="kanban-cards">
                        <div class="complaint-card">
                            <div class="card-id">C2</div>
                            <div class="card-info">
                                <span>üè† Room 205</span>
                                <span>üë§ Jane Smith</span>
                            </div>
                            <div class="type-badge">Noise</div>
                            <div class="card-description">Loud noise from neighboring unit during late hours</div>
                            <div class="card-date">üìÖ Oct 14, 2025 02:15 PM</div>
                            <div class="last-update">üìù Updated: Oct 16, 2025 11:20 AM</div>
                            <div class="records-title">Records</div>
                            <div class="record-logs-container">
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 14, 2025 02:15 PM:</span>
                                    <span class="log-message">Complaint received from tenant</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 14, 2025 03:45 PM:</span>
                                    <span class="log-message">Investigation started</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 15, 2025 10:00 AM:</span>
                                    <span class="log-message">Contacted neighboring tenant</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 16, 2025 11:20 AM:</span>
                                    <span class="log-message">Following up with witness statement</span>
                                </div>
                            </div>
                        </div>
                        <div class="complaint-card">
                            <div class="card-id">C5</div>
                            <div class="card-info">
                                <span>üè† Room 150</span>
                                <span>üë§ Mike Johnson</span>
                            </div>
                            <div class="type-badge">Neighbor</div>
                            <div class="card-description">Parking space issue with adjacent tenant</div>
                            <div class="card-date">üìÖ Oct 15, 2025 03:45 PM</div>
                            <div class="last-update">üìù Updated: Oct 17, 2025 09:00 AM</div>
                            <div class="records-title">Records</div>
                            <div class="record-logs-container">
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 15, 2025 03:45 PM:</span>
                                    <span class="log-message">Parking complaint filed</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 15, 2025 04:30 PM:</span>
                                    <span class="log-message">Reviewed parking guidelines with both parties</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 16, 2025 02:00 PM:</span>
                                    <span class="log-message">Mediation session scheduled</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 17, 2025 09:00 AM:</span>
                                    <span class="log-message">Both parties agreed on parking arrangement</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 17, 2025 10:15 AM:</span>
                                    <span class="log-message">Documentation updated in system</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resolved Column -->
                <div class="kanban-column">
                    <div class="kanban-header resolved">
                        <h3>Resolved</h3>
                        <span class="column-count">3</span>
                    </div>

                    <div class="kanban-cards">
                        <!-- Complaint Card 1 -->
                        <div class="complaint-card">
                            <div class="card-header">
                                <div class="card-id">C3</div>
                                <button class="delete-btn">
                                        <span class="material-symbols-rounded" style="font-size: 20px;">delete</span>
                                        Delete
                                </button>
                            </div>

                            <div class="card-info">
                                <span>üè† Room 302</span>
                                <span>üë§ Bob Wilson</span>
                            </div>
                            <div class="type-badge">Billing</div>
                            <div class="card-description">Incorrect charges on monthly statement</div>
                            <div class="card-date">üìÖ Oct 13, 2025 10:00 AM</div>
                            <div class="last-update" style="color: #66BB6A;">‚úÖ Resolved: Oct 17, 2025 03:45 PM</div>

                            <div class="records-title">Records</div>
                            <div class="record-logs-container">
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 13, 2025 10:00 AM:</span>
                                    <span class="log-message">Billing discrepancy reported</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 13, 2025 11:30 AM:</span>
                                    <span class="log-message">Finance team notified</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 15, 2025 09:00 AM:</span>
                                    <span class="log-message">Billing records reviewed and verified</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 17, 2025 02:00 PM:</span>
                                    <span class="log-message">Credit issued to tenant account</span>
                                </div>
                                <div class="record-log">
                                    <span class="log-timestamp">Oct 17, 2025 03:45 PM:</span>
                                    <span class="log-message">Tenant notified and confirmed resolution</span>
                                </div>
                            </div>
                        </div>

            <!-- Complaint Card 2 -->
            <div class="complaint-card">
                <div class="card-header">
                    <div class="card-id">C8</div>
                    <button class="delete-btn">
                            <span class="material-symbols-rounded" style="font-size: 20px;">delete</span>
                            Delete
                    </button>
                </div>

                <div class="card-info">
                    <span>üè† Room 302</span>
                    <span>üë§ Bob Wilson</span>
                </div>
                <div class="type-badge">Billing</div>
                <div class="card-description">Incorrect charges on monthly statement</div>
                <div class="card-date">üìÖ Oct 13, 2025 10:00 AM</div>
                <div class="last-update" style="color: #66BB6A;">‚úÖ Resolved: Oct 17, 2025 03:45 PM</div>

                <div class="records-title">Records</div>
                <div class="record-logs-container">
                    <div class="record-log">
                        <span class="log-timestamp">Oct 13, 2025 10:00 AM:</span>
                        <span class="log-message">Billing discrepancy reported</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 13, 2025 11:30 AM:</span>
                        <span class="log-message">Finance team notified</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 15, 2025 09:00 AM:</span>
                        <span class="log-message">Billing records reviewed and verified</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 17, 2025 02:00 PM:</span>
                        <span class="log-message">Credit issued to tenant account</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 17, 2025 03:45 PM:</span>
                        <span class="log-message">Tenant notified and confirmed resolution</span>
                    </div>
                </div>
            </div>

            <!-- Complaint Card 3 -->
            <div class="complaint-card">
                <div class="card-header">
                    <div class="card-id">C6</div>
                    <button class="delete-btn">
                            <span class="material-symbols-rounded" style="font-size: 20px;">delete</span>
                            Delete
                    </button>
                </div>

                <div class="card-info">
                    <span>üè† Room 210</span>
                    <span>üë§ Emily Davis</span>
                </div>
                <div class="type-badge">Maintenance</div>
                <div class="card-description">Broken window lock needs replacement</div>
                <div class="card-date">üìÖ Oct 12, 2025 08:30 AM</div>
                <div class="last-update" style="color: #66BB6A;">‚úÖ Resolved: Oct 16, 2025 02:00 PM</div>

                <div class="records-title">Records</div>
                <div class="record-logs-container">
                    <div class="record-log">
                        <span class="log-timestamp">Oct 12, 2025 08:30 AM:</span>
                        <span class="log-message">Window lock repair requested</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 12, 2025 09:15 AM:</span>
                        <span class="log-message">Maintenance team assigned</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 14, 2025 02:30 PM:</span>
                        <span class="log-message">Lock replacement scheduled</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 16, 2025 10:00 AM:</span>
                        <span class="log-message">Repair work completed</span>
                    </div>
                    <div class="record-log">
                        <span class="log-timestamp">Oct 16, 2025 02:00 PM:</span>
                        <span class="log-message">Inspection passed and approved by tenant</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
    function updateGreeting() {
        const hour = new Date().getHours();
        let greeting;

        if (hour >= 5 && hour < 12) {
            greeting = "Good Morning, User!";
        } else if (hour >= 12 && hour < 18) {
            greeting = "Good Afternoon, User!";
        } else {
            greeting = "Good Evening, User!";
        }

        const greetingElement = document.querySelector('.greeting');
        if (greetingElement) {
            greetingElement.textContent = greeting;
        }
    }

    updateGreeting();

            function openSubmitModal() {
            document.getElementById('submitModal').classList.add('active');
        }

function closeSubmitModal() {
    document.getElementById('submitModal').classList.remove('active');
    document.getElementById('complaintType').value = '';
    document.getElementById('complaintDescription').value = '';

    // hide & clear validate/success message
    const err = document.getElementById('submitvalidate');
    if (err) {
        err.classList.remove('active', 'success');
        err.innerHTML = '';
    }
}

function submitComplaint() {
    const type = document.getElementById('complaintType').value.trim();
    const description = document.getElementById('complaintDescription').value.trim();
    const err = document.getElementById('submitError');

    // Clear previous messages
    err.classList.remove('active');
    err.innerHTML = '';

    let errors = [];

    if (!type) {
        errors.push("Please select a complaint type.");
    }

    if (!description) {
        errors.push("Description cannot be empty.");
    } else if (description.length < 10) {
        errors.push("Description must be at least 10 characters long.");
    }

    if (errors.length > 0) {
        err.innerHTML = errors.join("<br>");
        err.classList.add('active');
        return;
    }

    // Success
    err.innerHTML = "Complaint submitted successfully!";
    err.style.color = "#155724";
    err.style.backgroundColor = "#d4edda";
    err.style.border = "1px solid #c3e6cb";
    err.classList.add('active');

    setTimeout(() => {
        closeSubmitModal();

        // Reset error box to default red styles after closing
        err.style.color = "";
        err.style.backgroundColor = "";
        err.style.border = "";
        err.innerHTML = "";
        err.classList.remove('active');

    }, 800);
}

        function applyFilters() {
            const type = document.getElementById('filter-type').value;
            const date = document.getElementById('filter-date').value;
            const month = document.getElementById('monthFilter').value;
            const status = document.getElementById('filter-status').value;

            console.log('Applying filters:', { type, date, month, status });
            // Filter logic would go here
        }

        function clearFilters() {
            document.getElementById('filter-type').value = '';
            document.getElementById('filter-date').value = '';
            document.getElementById('monthFilter').value = 'all';
            document.getElementById('filter-status').value = 'all';
            applyFilters();
        }

        // Close modal when clicking outside
        document.getElementById('submitModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSubmitModal();
            }
        });

        updateGreeting();

    
</script>